speclists:
  serial:
    definitions:
    - all:
      - $openssl
      - $libraries
      - $libraries_specific
      - $tools
      - $tools_specific
    
  serial_threadsafe:
    definitions:
    - all:
      - $openssl
      - $libraries
      - $libraries_specific
      - $tools
      - $tools_specific
    
  mpi:
    definitions:
    - all:
      - $openssl
      - $libraries
      - $libraries_specific
      - $libraries_petsc
      - $benchmarks

  mpi_bench:
    definitions:
    - all:
      - $openssl
      - $libraries_specific
      - $benchmarks

serial:
  spack:
    definitions:
    - current_compiler:
      - '{{env000_bootstrap.config.current_compiler}}'
    - openssl:
      - '{{env000_bootstrap.config.system_openssl}}'

    - libraries:
      - zlib
      - boost 
      - gsl
      - hdf5 +cxx -mpi
      - metis
      - netcdf-c -mpi
      - netcdf-fortran
      - libszip
      - cgal
      - libmatheval


    - tools:
      - proj
      - gmt +ffmpeg +gdal   ^json-c +ipo
#X11      - grads
##X11      - gnuplot
##binary only and proprietary    - gurobi
##X11    - ncview 
##X11    - grass +blas +lapack  +geos + gdal +zstd 


serial_threadsafe:
  spack:
    definitions:
    - current_compiler:
      - '{{env000_bootstrap.config.current_compiler}}'
    - openssl:
      - '{{env000_bootstrap.config.system_openssl}}'

    - libraries:
      - hdf5  +threadsafe -mpi

    - tools:
      - eccodes +fortran+openmp+netcdf


mpi:
  libraries_petsc_normal:
  - petsc +mpi +mumps +scalapack +fftw

  libraries_petsc_nocuda:
  - petsc +mpi +mumps +scalapack +fftw ~cuda ^hypre ~cuda cuda_arch=none


  benchmarks_normal:
  - osu-micro-benchmarks

  spack:
    definitions:
    - current_compiler: '@REF{env000_bootstrap.spack.definitions.current_compiler}'
    - openssl:
      - '{{env000_bootstrap.config.system_openssl}}'

    - libraries:
      - adios
      - boost +mpi
      - hdf5  +hl
      - netcdf-c +mpi +parallel-netcdf
      - netcdf-fortran
      - parallel-netcdf
      - parmetis
      - py-mpi4py
      - cgal

    - benchmarks: '@REF{mpi.benchmarks_normal}'

